<!-- Global Nav -->
<div class="header-public col-md-12 p-n">
  <div class="col-md-10 col-md-offset-1">
    
    <div class="navbar-header">
      <a ng-click="toggleNavSize($event)" class="btn btn-link visible-xs" data-toggle="class:nav-off-screen" data-target="#nav"><i class="fa fa-bars"></i></a>
      <a ui-sref="app.public.home" class="navbar-brand" ng-click="goabout = false">
        <img ng-src="{{logo.custom_asset_file_attributes.attachment_url}}" alt="{{logo.custom_asset_file_attributes.attachment}}" class="m-r-sm"/>
        <%= raw "<label class='label-staging label label-warning text-sm hidden-sm hidden-xs'>Staging</label>" if Rails.env.staging? %></a>
    </div>

    <ul class="nav navbar-nav navbar-public navbar-right m-n hidden-xs nav-user user">      
      <li ng-repeat="navLink in navLinks" >
        <a ng-click="toggleNavSize($event)" ui-sref="{{navLink.state}}" ui-sref-active="active" class="font-bold auto" data-toggle="class:nav-off-screen" data-target="#nav">
          <span>{{navLink.linkText | translate}}</span>
        </a>
      </li>
      <li class="notification-open" ng-if="isAuthenticated()">
        <a ui-sref="app.logged.notifications"><i class="fa fa-bell fa-2x black"></i> <span class="badge" ng-class="{'bg-red': notifications.unread > 0}">{{notifications.unread}}</span></a>
      </li>     
      <li class="dropdown user-profile-nav" ng-if="isAuthenticated()" uib-dropdown>
        <a href="#" class="dropdown-toggle" uib-dropdown-toggle>
          <i class="fa fa-user fa-2x black"></i>
          <b class="caret"></b>
        </a>
        <ul class="uib-dropdown-menu animated fadeInRight">
          <li><a href="#" ui-sref="app.logged.dashboard.profile" translate>{{ 'my_profile' }}</a></li>
          <li><a href="#" ui-sref="app.logged.dashboard.settings" translate>{{ 'my_settings' }}</a></li>
          <li><a href="#" ui-sref="app.logged.dashboard.projects" translate>{{ 'my_projects' }}</a></li>
          <li><a href="#" ui-sref="app.logged.dashboard.trainings" translate>{{ 'my_trainings' }}</a></li>
          <li><a href="#" ui-sref="app.logged.dashboard.events" translate>{{ 'my_events' }}</a></li>
          <li><a href="#" ui-sref="app.logged.dashboard.invoices" translate>{{ 'my_invoices' }}</a></li>
          <li><a href="#" ui-sref="app.logged.dashboard.wallet" translate>{{ 'my_wallet' }}</a></li>
          <li class="divider"></li>
          <li><a href="#" class="text-black" ng-click="logout($event)">{{ 'sign_out' | translate }}</a></li>
        </ul>
      </li>
      
      <% active_provider = AuthProvider.active %>
      <% if active_provider.providable_type == DatabaseProvider.name %>
        <li ng-if="!isAuthenticated()">
            <a href="#" class="font-normal" ng-click="login($event)">{{ 'sign_in' | translate }}</a>
        </li>
      <% else %>
          <li ng-if="!isAuthenticated()">
            <a href="<%= "/users/auth/#{active_provider.strategy_name}"%>" class="font-sbold  label text-md">{{ 'sign_in' | translate }}</a>
          </li>
      <% end %>
    </ul>

  </div>
</div>

<!-- Admin Nav -->
<div class="header-admin col-md-12" ng-if="isAuthorized('admin')">
  <div class="col-md-10 col-md-offset-1">
    <ul class="nav navbar-nav navbar-admin">
      <li class="" ng-repeat="navLink in adminNavLinks">
        <a ng-click="toggleNavSize($event)" ga ui-sref="{{navLink.state}}" ui-sref-active="active" class="auto" data-toggle="class:nav-off-screen" data-target="#nav">
          <span>{{navLink.linkText | translate}}</span>
        </a>
      </li>
    </ul>
  </div>
</div>

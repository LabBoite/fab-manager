<div class="" id="loginModal">
    <a href="#" ng-click="openSignup($event)" class="modal-message" translate>
      {{ 'already_have_account' }}
    </a>
    
    <div class="modal-header">
      <h1 translate class="txt-orange">
        {{ 'create_your_account' }}
      </h1>
      <div class="modal-header-msg">
        Votre compte vous permet de vous inscrire gratuitement aux ateliers du fablab. Si vous souhaitez vous initier et utiliser les machines, vous devez préalablement devenir adhérent.
      </div>
    </div>

    <div class="modal-body">
      <uib-alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</uib-alert>
        <div class="form-light-orange">
          <form role="form" name="signupForm" class="form-horizontal signup-form" novalidate autocomplete="off" ng-keydown="signupForm.$valid && $event.which == 13 && ok()">
            
            <div class="form-group" ng-class="{'has-error': signupForm.gender.$dirty && signupForm.gender.$invalid}">
              <div class="col-sm-12">
                <label class="checkbox-inline">
                  <input type="radio"
                        name="gender"
                        ng-model="user.statistic_profile_attributes.gender"
                        value="true"
                        required/> {{ 'man' | translate }}
                </label>
                <label class="checkbox-inline">
                  <input type="radio"
                        name="gender"
                        ng-model="user.statistic_profile_attributes.gender"
                        value="false"/> {{ 'woman' | translate }}
                </label>
                <span class="exponent m-l-xs help-cursor" title="{{ 'used_for_statistics' | translate }}"><i class="fa fa-asterisk" aria-hidden="true"></i></span>
                <span class="help-block" ng-show="signupForm.gender.$dirty && signupForm.gender.$error.required" translate>{{ 'gender_is_required'}}</span>
              </div>
            </div>

            <div class="form-group names-row">
              <div class="col-sm-6" ng-class="{'has-error': signupForm.first_name.$dirty && signupForm.first_name.$invalid}">
                <input type="text"
                      name="first_name"
                      ng-model="user.profile_attributes.first_name"
                      class="form-control"
                      placeholder="{{ 'your_first_name' | translate }}"
                      required>
                <span class="exponent m-l-xs help-cursor" title="{{ 'used_for_invoicing' | translate }}"><i class="fa fa-asterisk" aria-hidden="true"></i></span>
                <span class="help-block" ng-show="signupForm.first_name.$dirty && signupForm.first_name.$error.required" translate>{{ 'first_name_is_required' }}</span>
              </div>
              <div class="m-b-sm visible-xs"></div>
              <div class="col-sm-6" ng-class="{'has-error': signupForm.last_name.$dirty && signupForm.last_name.$invalid}">
                <input type="text"
                      name="last_name"
                      ng-model="user.profile_attributes.last_name"
                      class="form-control"
                      placeholder="{{ 'your_surname' | translate }}"
                      required>
                <span class="exponent m-l-xs help-cursor" title="{{ 'used_for_invoicing' | translate }}"><i class="fa fa-asterisk" aria-hidden="true"></i></span>
                <span class="help-block" ng-show="signupForm.last_name.$dirty && signupForm.last_name.$error.required" translate>{{ 'surname_is_required' }}</span>
              </div>
            </div>

            <div class="form-group required-row" ng-class="{'has-error': signupForm.username.$dirty && signupForm.username.$invalid}">
              <div class="col-sm-12">
                <div class="input-group">
                  <span class="input-group-addon"><i class="fa fa-user"></i></span>
                  <input type="text"
                        name="username"
                        ng-model="user.username"
                        class="form-control"
                        placeholder="{{ 'your_pseudonym' | translate }}"
                        required>
                </div>
                <span class="exponent help-cursor" title="{{ 'used_for_profile' | translate }}"><i class="fa fa-asterisk" aria-hidden="true"></i></span>
                <span class="help-block" ng-show="signupForm.username.$dirty && signupForm.username.$error.required" translate>{{ 'pseudonym_is_required' }}</span>
              </div>
            </div>

            <div class="form-group required-row" ng-class="{'has-error': signupForm.email.$dirty && signupForm.email.$invalid}">
              <div class="col-sm-12">
                <div class="input-group">
                  <span class="input-group-addon"><i class="fa fa-envelope"></i></span>
                  <input type="email"
                        name="email"
                        ng-model="user.email"
                        class="form-control"
                        placeholder="{{ 'your_email_address' | translate }}"
                        required>
                </div>
                <span class="exponent help-cursor" title="{{ 'used_for_invoicing' | translate }}"><i class="fa fa-asterisk" aria-hidden="true"></i></span>
                <span class="help-block" ng-show="signupForm.email.$dirty && signupForm.email.$error.required" translate>{{ 'email_is_required' }}</span>
              </div>
            </div>

            <div class="form-group required-row" ng-class="{'has-error': signupForm.password.$dirty && signupForm.password.$invalid}">
              <div class="col-sm-12">
                <div class="input-group">
                  <span class="input-group-addon"><i class="fa fa-key"></i></span>
                  <input type="password"
                        name="password"
                        ng-model="user.password"
                        class="form-control"
                        placeholder="{{ 'your_password' | translate }}"
                        required
                        ng-minlength="8">
                </div>
                <span class="exponent"><i class="fa fa-asterisk" aria-hidden="true"></i></span>
                <span class="help-block" ng-show="signupForm.password.$dirty && signupForm.password.$error.required" translate>{{ 'password_is_required' }}</span>
                <span class="help-block" ng-show="signupForm.password.$dirty && signupForm.password.$error.minlength" translate>{{ 'password_is_too_short' }}</span>
              </div>
            </div>

            <div class="form-group required-row" ng-class="{'has-error': signupForm.password_confirmation.$dirty && signupForm.password_confirmation.$invalid}">
              <div class="col-sm-12">
                <div class="input-group">
                  <span class="input-group-addon"><i class="fa fa-key"></i></span>
                  <input type="password"
                        name="password_confirmation"
                        ng-model="user.password_confirmation"
                        class="form-control"
                        placeholder="{{ 'type_your_password_again' | translate }}"
                        required ng-minlength="8"
                        match="user.password">
                </div>
                <span class="exponent"><i class="fa fa-asterisk" aria-hidden="true"></i></span>
                <span class="help-block" ng-show="signupForm.password_confirmation.$dirty && signupForm.password_confirmation.$error.required" translate>{{ 'password_confirmation_is_required' }}</span>
                <span class="help-block" ng-show="signupForm.password_confirmation.$error.match" translate>{{ 'password_does_not_match_with_confirmation' }}</span>
              </div>
            </div>

<<<<<<< HEAD
            <div class="form-group required-row" ng-class="{'has-error': signupForm.group_id.$dirty && signupForm.group_id.$invalid}">
              <div class="col-sm-12">
                <div>
                  <select ng-model="user.group_id" class="form-control" name="group_id" ng-options="g.id as g.name for g in groups" required>
                    <option value="" translate>{{ 'your_user_s_profile' }}</option>
                  </select>
                  <span class="exponent exponent-select help-cursor" title="{{ 'used_for_invoicing' | translate }}"><i class="fa fa-asterisk" aria-hidden="true"></i></span>
                </div>
                <span class="help-block" ng-show="signupForm.group_id.$dirty && signupForm.group_id.$error.required" translate>{{ 'user_s_profile_is_required' }}</span>
              </div>
=======
        <div class="form-group required-row" ng-class="{'has-error': signupForm.group_id.$dirty && signupForm.group_id.$invalid}">
          <div class="col-sm-12">
            <div>
              <select ng-model="user.group_id" class="form-control" name="group_id" ng-options="g.id as g.name for g in enabledGroups" required>
                <option value="" translate>{{ 'your_user_s_profile' }}</option>
              </select>
              <span class="exponent exponent-select help-cursor" title="{{ 'used_for_invoicing' | translate }}"><i class="fa fa-asterisk" aria-hidden="true"></i></span>
>>>>>>> upstream/master
            </div>

            <div class="form-group" ng-class="{'has-error': signupForm.is_allow_contact.$dirty && signupForm.is_allow_contact.$invalid}">
              <div class="col-sm-12 checkbox-group">
                <input type="checkbox"
                      name="is_allow_contact"
                      id="is_allow_contact"
                      ng-model="user.is_allow_contact"
                      value="true"/>
                <label for="is_allow_contact" class="help-cursor" title="{{ 'public_profile' | translate }}" translate>{{ 'i_authorize_Fablab_users_registered_on_the_site_to_contact_me' }}</label>
              </div>
            </div>

            <div class="form-group" ng-class="{'has-error': signupForm.is_allow_newsletter.$dirty && signupForm.is_allow_newsletter.$invalid}">
              <div class="col-sm-12 checkbox-group">
                <input type="checkbox"
                      name="is_allow_newsletter"
                      id="is_allow_newsletter"
                      ng-model="user.is_allow_newsletter"
                      value="true"/>
                <label for="is_allow_newsletter" translate>{{ 'i_accept_to_receive_information_from_the_fablab' }}</label>
              </div>
            </div>

            <div class="form-group" ng-class="{'has-error': signupForm.cgu.$dirty && signupForm.cgu.$invalid}" ng-show="cgu">
              <div class="col-sm-12 checkbox-group">
                <input type="checkbox"
                      name="cgu"
                      id="cgu"
                      ng-model="user.cgu"
                      value="true"
                      ng-required="cgu != null"/>
                <label for="cgu">
                  <span translate>{{ 'i_ve_read_and_i_accept_' }}</span>
                  <a href="{{cgu.custom_asset_file_attributes.attachment_url}}" target="_blank" translate>{{ '_the_fablab_policy' }}</a>
                  <span class="exponent"><i class="fa fa-asterisk" aria-hidden="true"></i></span></label>
              </div>
            </div>
            <span class="info-required">
              <span class="exponent"><i class="fa fa-asterisk" aria-hidden="true"></i></span>
              <span translate>{{ 'field_required' }}</span>
            </span>
            <div ng-if="!cgu">
                <input type="hidden" name="cgu" ng-model="user.cgu" value="true">
            </div>

          </form>
        </div>
    </div>
    <div>
      <button class="btn-big btn-block btn-public btn-medium" ng-click="ok()" ng-disabled="signupForm.$invalid" translate>{{ 'confirm' }}</button>
    </div>

  </div>